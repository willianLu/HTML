<!DOCTYPE html>
<html>
    <head>
        <title>hash和history</title>
    </head>
    <body>
        <script>
            let stateObj = {
                foo: 'bar',
            }
            console.log('<-------------------->')
            // hash 路由原理
            // --------------------
            // window.addEventListener('hashchange', (...args) => {
            //     console.log('----------->', args);
            // })
            // window.location.hash = 'xxx';

            // history 路由原理
            // --------------------
            window.addEventListener('popstate', (...args) => {
                console.log('------------>', args);
                window.history.pushState(stateObj, '测试', '?bar=a')
            }, false)
            setTimeout(() => {
                window.history.pushState(stateObj, '测试', '?bar=a')
                window.history.back();
            }, 500)
        </script>
    </body>
</html>
