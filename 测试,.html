<!DOCTYPE html>
<html lang="en">
    <head>
        <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
        <meta name="viewport" content="initial-scale=1.0, user-scalable=no" />
        <title>js测试</title>
        <style>
            * {
                margin: 0;
                padding: 0;
                box-sizing: border-box;
            }
            html,
            body {
                width: 100%;
                height: 100%;
            }
            .grail-layout-x {
                padding: 0 100px;
                width: 100%;
                height: 100%;
            }
            .left {
                float: left;
                margin-left: -100px;
                width: 100px;
                height: 100%;
                background-color: #f66;
            }
            .right {
                float: right;
                margin-right: -100px;
                width: 100px;
                height: 100%;
                background-color: #66f;
            }
            .center {
                height: 100%;
                overflow-x: auto;
                background-color: #3c9;
            }
            .m1 {
                color: white;
                border: 1px solid red;
                margin-top: 20px;
            }
            .m2 {
                background-color: blue;
                border: 10px solid rgb(102, 238, 38);
            }
        </style>
    </head>
    <body>
        <div class="grail-layout-x">
            <div class="left"></div>
            <div class="right"></div>
            <div class="center">
                <div class="m1 m2">测试</div>
                <div class="m2 m1">测试样式</div>
                <div style="padding-top: 1000px">123</div>
            </div>
        </div>
        <script>
            // 给你两个有序整数数组 nums1 和 nums2，请你将 nums2 合并到 nums1 中，使 nums1 成为一个有序数组。
            function mergeArr(nums1, nums2) {
                let i = nums1.length - 1
                let j = nums2.length - 1
                let k = i + j + 1
                while (i >= 0 && j >= 0) {
                    if (nums1[i] <= nums2[j]) {
                        nums1[k] = nums2[j]
                        j--
                        k--
                    } else {
                        nums1[k] = nums1[i]
                        i--
                        k--
                    }
                }
                while (j >= 0) {
                    nums1[k] = nums2[j]
                    j--
                    k--
                }
                return nums1
            }
            console.log(mergeArr([4, 6, 9], [2, 3, 8]))

            // 给你一个包含 n 个整数的数组 nums，判断 nums 中是否存在三个元素 a，b，c ，使得 a + b + c = 0 ？请你找出所有满足条件且不重复的三元组。
            function threeSum(nums) {
                nums.sort((a, b) => a - b)
                let len = nums.length
                let res = []
                for (let i = 0; i < len - 2; i++) {
                    if (i > 0 && nums[i] === nums[i - 1]) {
                        continue
                    }
                    let p = i + 1
                    let n = len - 1
                    while (p < n) {
                        let total = nums[i] + nums[p] + nums[n]
                        if (total > 0) {
                            n--
                        } else if (total < 0) {
                            p++
                        } else {
                            res.push([nums[i], nums[p], nums[n]])
                            p++
                            n--

                            // 若左指针元素重复，跳过
                            while (p < n && nums[p] === nums[p - 1]) {
                                p++
                            }
                            // 若右指针元素重复，跳过
                            while (p < n && nums[n] === nums[n + 1]) {
                                n--
                            }
                        }
                    }
                }
                return res
            }
            console.log(threeSum([-1, 0, 1, 2, -1, -4, 2, -1, 1, -3]))

            // 给定一个非空字符串 s，最多删除一个字符。判断是否能成为回文字符串。
            function validPalindrome(str) {
                let len = str.length
                let i = 0
                let j = len - 1
                while (i < j && str[i] === str[j]) {
                    i++
                    j--
                }
                if (i === j || i - 1 === j) return true
                const isPalindrome = (p, n) => {
                    while (p < n && str[p] === str[n]) {
                        p++
                        n--
                    }
                    return p === n || p - 1 === n
                }
                if (isPalindrome(i + 1, j)) return true
                if (isPalindrome(i, j - 1)) return true
                return false
            }
            console.log(validPalindrome('abcba'))

            function newFn(fn) {
                let obj = Object.create(fn.prototype)
                let args = Array.prototype.slice.call(arguments, 1)
                let res = fn.apply(obj, args)
                return typeof res === 'object' ? res : obj
            }

            function Parent(name) {
                this.name = name
                this.type = 'parent'
            }

            Parent.prototype.say = function () {
                console.log(`${this.name}说：“你好！”`)
            }

            Parent.prototype.play = function () {
                console.log(`${this.name}打网球！`)
            }

            function Child(name) {
                Parent.call(this, name)
                this.type = 'child'
            }

            function Inherit() {}
            Inherit.prototype = Parent.prototype

            Child.prototype = new Inherit()
            Child.prototype.construct = Child

            Child.prototype.play = function () {
                console.log(`${this.name}打游戏！`)
            }
            const p = new Parent('小头爸爸')
            const c = new Child('大头儿子')
            console.log(p, c)
            p.say()
            p.play()
            c.say()
            c.play()
            // Z 字形变换
            let convert = function(s, numRows) {
                if(numRows === 1) return s;
                let str = '';
                for(let i = 0; i < numRows; i++) {
                    let j = i;
                    let k = 1;
                    while(j < s.length) {
                        str += s[j];
                        if(i === 0 || i === numRows - 1) {
                            j += (numRows - 1) * 2;
                        } else {
                            j += (k % 2 === 0 ? i : (numRows - i -1)) * 2;
                        }
                        k ++;
                    }
                }
                return str;
            };
            console.log(convert("PAYPALISHIRING", 4))
            function myAtoi(str) {
                str = str.trim();
                let reg = /^(\+|-){0,1}\d+/;
                let res = str.match(reg);
                let num = 0;
                let max = Math.pow(2, 31) - 1;
                let min = - max - 1;
                if(res) num = Number(res[0]);
                if(num > max) return max;
                if(num < min) return min;
                return num;
            }
            console.log(myAtoi('+-12'));
            var reverse = function(x) {
                let max = Math.pow(2, 31) - 1;
                let min = - max - 1;
                let num = 0;
                while(x !== 0) {
                    num = num * 10 + x % 10;
                    if(num > max || num < min) return 0;
                    x = (x / 10) | 0;
                }
                return num;
            };
            console.log(reverse('98700'));
            // 是否是回文数字
            var isPalindrome = function(x) {
                if(x < 0) return false;
                if(x < 10) return true;
                let s = `${x}`;
                let i = 0;
                let j = s.length - 1;
                while(i < j) {
                    if(s[i] !== s[j]) return false;
                    i ++;
                    j --;
                }
                return true;
            };
            const isMatch = function(s, p) {
                p = '^' + p + '$';
                let reg = new RegExp(p);
                return reg.test(s);
            }
            console.log(isMatch('ab', '.*..'));
        </script>
    </body>
</html>
